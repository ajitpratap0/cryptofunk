# Paper Trading Configuration
# Safe testing environment with simulated trading
# Perfect for testing strategies without risking real capital

app:
  name: "CryptoFunk"
  version: "0.1.0"
  environment: "development"  # Development environment for testing
  log_level: "debug"  # Verbose logging for debugging

database:
  host: "${DATABASE_HOST:-localhost}"
  port: 5432
  user: "${DATABASE_USER:-postgres}"
  password: "${DATABASE_PASSWORD:-postgres}"  # Simple password OK for dev
  database: "cryptofunk"
  ssl_mode: "disable"  # SSL not required for local development
  pool_size: 10

redis:
  host: "${REDIS_HOST:-localhost}"
  port: 6379
  password: ""  # No password for local Redis
  db: 0

nats:
  url: "${NATS_URL:-nats://localhost:4222}"
  enable_jetstream: true

llm:
  enabled: true
  gateway: "bifrost"
  endpoint: "${LLM_ENDPOINT:-http://localhost:8080/v1/chat/completions}"
  api_key: "${LLM_API_KEY}"  # Optional for Bifrost

  # Paper trading: Any model is fine
  primary_model: "claude-sonnet-4-20250514"
  fallback_models:
    - "gpt-4-turbo"
    - "gpt-3.5-turbo"

  temperature: 0.7  # Balanced temperature
  max_tokens: 2000
  timeout: 30000
  enable_caching: true

  circuit_breaker:
    failure_threshold: 5
    success_threshold: 2
    timeout: 60s
    time_window: 5m

mcp:
  external:
    coingecko:
      enabled: true
      name: "CoinGecko MCP"
      url: "https://mcp.api.coingecko.com/mcp"
      transport: "http_streaming"
      description: "Market data for paper trading"
      cache_ttl: 60
      rate_limit:
        enabled: true
        requests_per_minute: 100
      tools:
        - "get_price"
        - "get_market_chart"
        - "get_coin_info"
        - "get_trending"

  internal:
    order_executor:
      enabled: true
      name: "Order Executor"
      command: "./bin/order-executor-server"
      transport: "stdio"
      description: "Simulated order execution"
      env:
        TRADING_MODE: "paper"  # PAPER MODE - no real trades

    risk_analyzer:
      enabled: true
      name: "Risk Analyzer"
      command: "./bin/risk-analyzer-server"
      transport: "stdio"
      description: "Risk management (testing)"

    technical_indicators:
      enabled: true
      name: "Technical Indicators"
      command: "./bin/technical-indicators-server"
      transport: "stdio"
      description: "Technical analysis (testing)"

trading:
  mode: "paper"  # PAPER TRADING MODE - SAFE FOR TESTING
  symbols:
    - "BTCUSDT"
    - "ETHUSDT"
    - "BNBUSDT"
  exchange: "binance"
  initial_capital: 10000.0  # Virtual capital for testing
  max_positions: 3
  default_quantity: 0.01

# BALANCED RISK PARAMETERS (for realistic testing)
risk:
  max_position_size: 0.1       # 10% of portfolio per position
  max_daily_loss: 0.02         # 2% daily loss limit
  max_drawdown: 0.1            # 10% maximum drawdown
  default_stop_loss: 0.02      # 2% stop loss
  default_take_profit: 0.05    # 5% take profit (2.5:1 R:R)
  llm_approval_required: true  # Test LLM approval workflow
  min_confidence: 0.7          # 70% confidence threshold

exchanges:
  binance:
    api_key: "${BINANCE_API_KEY:-test_api_key}"  # Not used in paper mode
    secret_key: "${BINANCE_API_SECRET:-test_secret_key}"  # Not used in paper mode
    testnet: true  # Testnet mode (not used in paper trading, but safe setting)
    rate_limit_ms: 100

api:
  host: "0.0.0.0"
  port: 8081
  orchestrator_url: "http://localhost:8081"

  # Authentication (disabled for paper trading/testing)
  # For production, see main config.yaml for authentication setup
  auth:
    enabled: false  # Disabled for easy testing
    header_name: "X-API-Key"
    require_https: false  # Disabled for local development

  # CORS for local development
  allowed_origins:
    - "http://localhost:3000"
    - "http://localhost:5173"
    - "http://localhost:8080"

monitoring:
  prometheus_port: 9100
  enable_metrics: true

# NOTES:
# - This configuration is SAFE - no real trades will be executed
# - All orders are simulated with realistic slippage and fills
# - Perfect for testing strategies, debugging, and development
# - Can be run without exchange API keys
# - Database and logs will show simulated trades
