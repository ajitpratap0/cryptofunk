# Aggressive Trading Configuration
# Higher risk, higher reward settings for experienced traders
# Larger position sizes, wider stop-losses, lower confidence requirements

app:
  name: "CryptoFunk"
  version: "0.1.0"
  environment: "production"
  log_level: "info"

database:
  host: "${DATABASE_HOST:-localhost}"
  port: 5432
  user: "${DATABASE_USER:-postgres}"
  password: "${DATABASE_PASSWORD}"  # REQUIRED: Set via environment variable
  database: "cryptofunk"
  ssl_mode: "require"  # SSL required for production
  pool_size: 15  # Higher for more concurrent operations

redis:
  host: "${REDIS_HOST:-localhost}"
  port: 6379
  password: "${REDIS_PASSWORD}"
  db: 0

nats:
  url: "${NATS_URL:-nats://localhost:4222}"
  enable_jetstream: true

llm:
  enabled: true
  gateway: "bifrost"
  endpoint: "${LLM_ENDPOINT:-http://localhost:8080/v1/chat/completions}"
  api_key: "${LLM_API_KEY}"  # Optional for Bifrost

  # Aggressive: Faster models acceptable
  primary_model: "claude-sonnet-4-20250514"
  fallback_models:
    - "gpt-4-turbo"
    - "gpt-3.5-turbo"  # Faster fallback

  temperature: 0.8  # Higher temperature for more creative strategies
  max_tokens: 2000
  timeout: 20000  # Shorter timeout for faster decisions
  enable_caching: true

  circuit_breaker:
    failure_threshold: 8  # More tolerant of failures
    success_threshold: 2
    timeout: 30s  # Quick recovery
    time_window: 3m

mcp:
  external:
    coingecko:
      enabled: true
      name: "CoinGecko MCP"
      url: "https://mcp.api.coingecko.com/mcp"
      transport: "http_streaming"
      description: "Market data for aggressive trading"
      cache_ttl: 30  # Shorter cache for fresher data
      rate_limit:
        enabled: true
        requests_per_minute: 200  # Higher rate limit
      tools:
        - "get_price"
        - "get_market_chart"
        - "get_coin_info"
        - "get_trending"
        - "get_top_gainers"

  internal:
    order_executor:
      enabled: true
      name: "Order Executor"
      command: "./bin/order-executor-server"
      transport: "stdio"
      description: "Execute orders aggressively"

    risk_analyzer:
      enabled: true
      name: "Risk Analyzer"
      command: "./bin/risk-analyzer-server"
      transport: "stdio"
      description: "Balanced risk management"

    technical_indicators:
      enabled: true
      name: "Technical Indicators"
      command: "./bin/technical-indicators-server"
      transport: "stdio"
      description: "Aggressive technical analysis"

trading:
  mode: "live"  # Aggressive settings for live trading
  symbols:
    - "BTCUSDT"
    - "ETHUSDT"
    - "BNBUSDT"
    - "SOLUSDT"  # Multiple pairs for diversification
  exchange: "binance"
  initial_capital: 10000.0
  max_positions: 5  # Up to 5 concurrent positions
  default_quantity: 0.02  # Larger default quantity

# AGGRESSIVE RISK PARAMETERS
risk:
  max_position_size: 0.2       # Up to 20% of portfolio per position
  max_daily_loss: 0.05         # Stop trading if 5% daily loss
  max_drawdown: 0.15           # 15% maximum drawdown (higher risk tolerance)
  default_stop_loss: 0.03      # 3% stop loss (wider)
  default_take_profit: 0.10    # 10% take profit (aggressive 3.3:1 R:R)
  llm_approval_required: false # Allow rule-based trading without LLM
  min_confidence: 0.6          # Accept 60% confidence (lower threshold)

exchanges:
  binance:
    api_key: "${BINANCE_API_KEY}"
    secret_key: "${BINANCE_API_SECRET}"
    testnet: false  # Production mode
    rate_limit_ms: 50  # Faster execution

api:
  host: "0.0.0.0"
  port: 8081
  orchestrator_url: "http://localhost:8081"

  # Authentication strongly recommended for live trading
  auth:
    enabled: true  # Enable for production
    header_name: "X-API-Key"
    require_https: true

  # Production CORS - add your actual domains
  allowed_origins:
    - "https://cryptofunk.example.com"
    - "https://dashboard.cryptofunk.example.com"
    # Development (remove in production)
    - "http://localhost:3000"
    - "http://localhost:5173"

monitoring:
  prometheus_port: 9100
  enable_metrics: true
